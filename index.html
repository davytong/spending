<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Salary Tracker</title>

<!-- Bootstrap & Font -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(to bottom, #e0f7fa, #f0f4f8);
    padding: 20px;
}
h1 {
    text-align: center; 
    color: #0d6efd; 
    margin-bottom: 30px;
}

/* Card & container */
.card-header { font-weight: 600; }
.card { border-radius: 15px; }
.card-body { padding: 1rem; }

/* Checkbox styling */
.form-check {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 8px;
    margin-left: 14px;
    margin-bottom: 8px;
    border-radius: 10px;
    transition: all 0.3s;
    flex-wrap: wrap;
    background: #f8f9fa;
}
.form-check-input { flex: 0 0 auto; margin-top: 0; }
.form-check-label { flex: 1 1 auto; margin: 0; word-break: break-word; }
.form-check:hover { background: #d0ebff; transform: translateX(2px); }
.checked { background: #d1e7dd !important; font-weight: 600; }

/* Progress bars */
.progress { height: 20px; margin-top: 5px; border-radius: 10px; }

/* Reset button */
#resetBtn { margin: 20px auto; display: block; }

/* Responsive */
@media (max-width: 480px){
    body { padding: 10px; }
    h1 { font-size: 20px; }
    .form-check { gap: 8px; padding: 8px; }
}
</style>
</head>
<body>

<h1><i class="fas fa-wallet"></i> Salary Tracker</h1>

<div class="container">

  <!-- First Half -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-primary text-white"><i class="fas fa-coins"></i> First Half ($160)</div>
    <div class="card-body" id="firstItems">
      <!-- Items will be injected here by JS -->
    </div>
    <div class="mt-2 px-3">Total: $<span id="totalFirst">0</span> | Left: $<span id="balanceFirst">160</span></div>
    <div class="progress px-3"><div class="progress-bar bg-success" role="progressbar" style="width:0%" id="progressFirst"></div></div>
  </div>

  <!-- Second Half -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-info text-white"><i class="fas fa-coins"></i> Second Half ($160)</div>
    <div class="card-body" id="secondItems">
      <!-- Items will be injected here by JS -->
    </div>
    <div class="mt-2 px-3">Total: $<span id="totalSecond">0</span> | Left: $<span id="balanceSecond">160</span></div>
    <div class="progress px-3"><div class="progress-bar bg-success" role="progressbar" style="width:0%" id="progressSecond"></div></div>
  </div>

  <!-- Grand Total -->
  <div class="card mb-3 shadow-sm">
    <div class="card-header bg-success text-white"><i class="fas fa-chart-line"></i> Grand Total</div>
    <div class="card-body text-center">
      Total Spent: $<span id="grandTotal">0</span> | Total Left: $<span id="grandRemaining">320</span>
    </div>
  </div>

  <!-- Reset -->
  <button class="btn btn-danger" id="resetBtn"><i class="fas fa-redo"></i> Reset All</button>

</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Data for each half
const halves = {
  first: [
    {id:'first0', label:'Food $60', icon:'fas fa-utensils', value:60},
    {id:'first1', label:'Gas $15', icon:'fas fa-motorcycle', value:15},
    {id:'first2', label:'Saving $60', icon:'fas fa-house-user', value:60, tooltip:'(!AI confirm: I borrow money from my mom to get moto this need to pay on her back in monthly)'},
    {id:'first3', label:'Other $10', icon:'fas fa-gift', value:10},
    {id:'first4', label:'Back Up $15', icon:'fas fa-piggy-bank', value:15}
  ],
  second: [
    {id:'second0', label:'Oil $15', icon:'fas fa-oil-can', value:15},
    {id:'second1', label:'Food $60', icon:'fas fa-utensils', value:60},
    {id:'second2', label:'House $60', icon:'fas fa-house-user', value:60},
    {id:'second3', label:'Electric $5', icon:'fas fa-bolt', value:5},
    {id:'second4', label:'Other $10', icon:'fas fa-gift', value:10},
    {id:'second5', label:'Save $10', icon:'fas fa-piggy-bank', value:10}
  ]
};

// Sort items descending by value
for(let half in halves){
  halves[half].sort((a,b)=>b.value-a.value);
}

// Render items
for(let half in halves){
  const container = $(`#${half}Items`);
  halves[half].forEach(item=>{
    const labelAttr = item.tooltip ? `data-bs-toggle="tooltip" title="${item.tooltip}"` : '';
    container.append(`
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="${item.value}" id="${item.id}">
        <label class="form-check-label" for="${item.id}" ${labelAttr}><i class="${item.icon}"></i> ${item.label}</label>
      </div>
    `);
  });
}

// Enable tooltips
const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl);
});

// Update functions
function updateHalf(half){
  let total=0;
  halves[half].forEach(item=>{
    const cb=$(`#${item.id}`);
    if(cb.prop('checked')) total+=Number(cb.val());
    cb.parent().toggleClass('checked',cb.prop('checked'));
    localStorage.setItem(item.id,cb.prop('checked'));
  });
  $(`#total${half.charAt(0).toUpperCase()+half.slice(1)}`).text(total);
  $(`#balance${half.charAt(0).toUpperCase()+half.slice(1)}`).text(160-total);
  $(`#progress${half.charAt(0).toUpperCase()+half.slice(1)}`).css('width',(total/160*100)+'%');
  updateGrand();
}

function updateGrand(){
  let totalFirst=Number($('#totalFirst').text());
  let totalSecond=Number($('#totalSecond').text());
  let grandTotal=totalFirst+totalSecond;
  $('#grandTotal').text(grandTotal);
  $('#grandRemaining').text(320-grandTotal);
}

function resetAll(){
  for(let half in halves){
    halves[half].forEach(item=>{
      $(`#${item.id}`).prop('checked',false);
      localStorage.setItem(item.id,false);
    });
    updateHalf(half);
  }
}

// Init
$(document).ready(function(){
  for(let half in halves){
    halves[half].forEach(item=>{
      $(`#${item.id}`).prop('checked',localStorage.getItem(item.id)==='true');
      $(`#${item.id}`).change(()=>updateHalf(half));
    });
    updateHalf(half);
  }
  $('#resetBtn').click(resetAll);
});
</script>
</body>
</html>
